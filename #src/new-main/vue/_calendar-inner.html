<div class="main-section">
          <div class="row">
               <div class="col-xxl-10 col-xl-9 d-flex flex-column">
                    <div class="d-flex flex-row flex-wrap align-items-center justify-content-between">
                         <div class="">
                              <strong class="ff-inter fs-28">
                                   Налоговый календарь
                              </strong>
                              
                         </div>
                         <div class="">
                              <a href="archive.html" target="_blank" rel="noopener noreferrer"
                                   class="color-gray-dark d-flex flex-row align-items-center hover-orange">
                                   <span>Архив налоговых календарей</span>
                                   <i class="bi bi-arrow-right ms-2"></i>
                              </a>
                         </div>
                    </div>
                    <div class="mt-4" id="vueCalendar">
                         <div class="calendar-wrapper row row-container border-0">
                              <div class="col-12">
                                   <div class="calendar-tabs-wrapper d-flex flex-column">
                                        <div class="d-flex flex-row justify-content-around w-100">
                                             <input type="radio" name="calendarType" id="calendarOrg" v-model="typeMode" value="calendarOrg"
                                                  v-on:click="this.typeMode = 'calendarOrg'">
                                             <label for="calendarOrg"
                                                  class="tab-toggle w-100 d-flex justify-content-start color-gray-dark px-3">
                                                  Налоговый календарь организации
                                             </label>
                                             <input type="radio" name="calendarType" id="calendarIP" v-model="typeMode" value="calendarIP"
                                                  v-on:click="this.typeMode = 'calendarIP'">
                                             <label for="calendarIP"
                                                  class="tab-toggle w-100 d-flex justify-content-start color-gray-dark px-3">
                                                  Налоговый календарь индивидуального предпринимателя
                                             </label>
                                        </div>
                                        <div class="tab-underline-accent"></div>
                                        <div class="tab-underline w-100"></div>
                                   </div>
                              </div>
                              <div class="mt-4 col-12">
                                   <!-- <button @click="moveToDate('2023-12-26')">
                                        sdfsdf
                                   </button> -->
                              </div>
                              <div class="col-xxxl-6 border border-1 border-20 my-1 inner-calendar">
                                   <!-- <button @click="testCheck">get current month</button> -->
                                   <!-- <div class="">{{currentMonth}}</div> -->
                                   
                                   <v-calendar borderless :attributes='attributes' :min-date="minDate" :max-date="maxDate"
                                        @dayclick="onDayClick" ref="calendar" :disabled-dates="disabledDates" locale="ru" :masks="{title:'MMMM', weekdays: 'WW'}"></v-calendar>
                                   <!-- <test-comp @message-updated="updateMessage"></test-comp>
                                                            <div v-if="messageFromChild">
                                                                 {{ messageFromChild }}
                                                            </div> -->
                                   <!-- <div class="" v-if="selectedDate === null">
                                                                 Ничего не выбрано
                                                            </div> -->
                                   <!-- <div class="" v-if="selectedDate">
                                                                 <div class="" v-if="selectedDate !== null">
                                                                      {{selectedDate}}
                                                                 </div>
                                                            </div> -->
                              </div>
                    
                              <div class="col-xxxl-6">
                                   <div class="calendar-today mt-2 row-container-xxxl border border-1">
                                        <span class="color-nav-black d-block">Сегодня</span>
                                        <div class="mt-2">
                                             <i class="bi bi-calendar color-gold fs-14 me-1"></i>
                                             <span class="color-gold fs-24 ff-pt-serif">{{setToday?.dateNumber}}</span>
                                             <span class="fs-24 ff-pt-serif">({{setToday?.dayOfWeek}})</span>
                                        </div>
                                   </div>
                    
                                   <div class="col-12 d-flex align-items-center mt-4">
                                        <div class="calendar-dot calendar-dot-lg calendar-dot-pay me-1"></div>
                                        <span class="color-gray-dark fs-14">Уплата налогов, сборов и неналоговых платежей</span>
                                   </div>
                                   <div class="col-12 d-flex align-items-center mt-3">
                                        <div class="calendar-dot calendar-dot-lg calendar-dot-show me-1"></div>
                                        <span class="color-gray-dark fs-14">Представление деклараций</span>
                                   </div>
                                   <div class="col-12 d-flex align-items-center mt-3">
                                        <div class="calendar-dot calendar-dot-lg calendar-dot-pay-show me-1"></div>
                                        <span class="color-gray-dark fs-14">Представление и уплата</span>
                                   </div>
                              </div>
                    
                    
                         </div>
                    
                         <div class="col-xxl-5 col-12">
                    
                         </div>
                         <!-- <div class="calendar-time-block" v-for="(value, key) in weekTime">
                                                       <div>{{ key }}--{{value}}</div>
                                                  </div> -->
                         <div class="row">
                              <div class="col-xxl-5">
                                   <div class="work-time-elem d-flex flex-row align-items-center justify-content-between mt-2">
                                        <span class="fs-16 color-nav-black">Календарные дни</span>
                                        <div class="time-underline mt-2 mx-2"></div>
                                        <span class="color-gold fs-18">{{weekTime.sumDays}}</span>
                                   </div>
                              </div>
                              <div class="col-xxl-7"></div>
                              <div class="col-12 mt-3"></div>
                              <div class="col-xxl-5 d-flex flex-column justify-content-between my-1">
                                   <div class="work-day-block">
                                        <span class="fs-16 d-block">
                                             Рабочие дни:
                                        </span>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">по пятидневной рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.workFive}}</span>
                                        </div>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">по шестидневной рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.workSix}}</span>
                                        </div>
                                   </div>
                                   <div class="work-day-block mt-2">
                                        <span class="fs-16 d-block">
                                             Нерабочие дни (выходные и праздничные дни):
                                        </span>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">по пятидневной рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.totalWeekends}}</span>
                                        </div>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">по шестидневной рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.sundaysWithDis}}</span>
                                        </div>
                                   </div>
                              </div>
                              <div class="col-xxl-5 d-flex flex-column justify-content-between">
                                   <div class="work-day-block">
                                        <span class="fs-16 d-block">
                                             Расчетная норма рабочего времени (в часах):
                                        </span>
                                        <span class="fs-14">для пятидневной рабочей недели:</span>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">при 40-часовой рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.timeFiveWeek40}}</span>
                                        </div>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">при 35-часовой рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.timeFiveWeek35}}</span>
                                        </div>
                                   </div>
                                   <div class="work-day-block mt-2">
                                        <span class="fs-14">для шестидневной рабочей недели:</span>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">при 40-часовой рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.timeSixWeek40}}</span>
                                        </div>
                                        <div class="work-time-elem d-flex flex-row align-items-center justify-content-between my-1">
                                             <span class="fs-16 color-nav-black">при 35-часовой рабочей неделе</span>
                                             <div class="time-underline mt-2 mx-2"></div>
                                             <span class="color-gold fs-18">{{weekTime.timeSixWeek35}}</span>
                                        </div>
                                   </div>
                              </div>
                         </div>
                         <div class="d-flex flex-row flex-wrap g-2 justify-content-between align-items-center mt-5">
                              <div class="my-2">
                                   <strong class="fs-20 ff-inter color-nav-black">
                                        Налоговый календарь на {{selectedMonth}} {{yearTitle}} года
                                   </strong>
                              </div>
                              <!-- <div class="my-2">
                                   <a class="white-btn" download="" href="">
                                        <span>Скачать в PDF</span>
                                        <i class="bi bi-download"></i>
                                   </a>
                              </div> -->
                         </div>
                         <div class="calendar-table mt-2">
                              <table class="table">
                                   <tbody>
                                        <tr>
                                             <td>
                                                  Дата, день недели
                                                  (не позднее)
                                             </td>
                                             <td>
                                                  Уплата и (или) представление декларации или отчета
                                             </td>
                                             <td colspan="2">
                                                  Вид налога, сбора и неналогового платежа, по которым производятся уплата и представление
                                                  декларации, наименование прочих
                                                  отчетов
                                             </td>
                                        </tr>
                    
                                        <template v-if="everyDayArr.length !== 0 && info.weekend !== true" v-for="info in everyDayArr">
                                             <tr>
                                                  <!-- :id="'date' + '-' + info?.date" -->
                                                  <td v-if="info.show === true">
                                                       Ежедневно
                                                  </td>
                                                  <td v-if="info.show === true">
                                                       Представление
                                                       <span v-if="info.show === true && info.addText.category === 'show'">
                                                            <br>{{info.addText.text}}
                                                       </span>
                                                  </td>
                                                  <td v-if="info.show === true && info.description" colspan="2">
                                                       <span class="color-blue-light">
                                                            {{info.description.desShow}}
                                                       </span> <br>
                                                       <p>
                                                            {{info.description.desShowFull}}
                                                       </p>
                                                  </td>
                                             </tr>
                                             <tr>
                                                  <!-- :id="'date' + '-' + info?.date" -->
                                                  <td v-if="info.pay === true">
                                                       Ежедневно
                                                  </td>
                                                  <td v-if="info.pay === true">
                                                       Уплата
                                                       <span v-if="info.pay === true && info.addText.category === 'pay'">
                                                            <br>{{info.addText.text}}
                                                       </span>
                                                  </td>
                                                  <td v-if="info.pay === true && info.description">
                                                       <span class="color-blue-light">
                                                            {{info.description.desPay}}
                                                       </span> <br>
                                                       <p>
                                                            {{info.description.desPayFull}}
                                                       </p>
                                                  </td>
                                             </tr>
                                             <tr>
                                                  <td v-if="info.payShow === true">
                                                       Ежедневно
                                                  </td>
                                                  <td v-if="info.payShow === true">
                                                       Представление и уплата
                                                       <span v-if="info.payShow === true && info.addText.category === 'payShow'">
                                                            <br>{{info.addText.text}}
                                                       </span>
                                                  </td>
                                                  <td v-if="info.payShow === true && info.description">
                                                       <span class="color-blue-light">
                                                            {{info.description.desPayShow}}
                                                       </span> <br>
                                                       <p>
                                                            {{info.description.desPayShowFull}}
                                                       </p>
                                                  </td>
                                             </tr>
                                        </template>
                    
                    
                                        <tr v-if="info.weekend !== true" v-for="info in tableDates" :id="'date' + '-' + info?.date">
                                             <td >
                                                  <span>{{info.date}}</span> <br>
                                                  <span class="color-gray-dark">{{info?.dayOfWeek}}</span>
                                             </td>
                                             <td v-if="info.show === true">
                                                  Представление
                                                  <span v-if="info.show === true && info.addText.category === 'show'">
                                                       <br>{{info.addText.text}}
                                                  </span>
                                             </td>
                                             <td colspan="2" v-if="info.show === true && info.description">
                                                  <span class="color-blue-light">
                                                       {{info.description.desShow}}
                                                  </span> <br>
                                                  <p>
                                                       {{info.description.desShowFull}}
                                                  </p>
                                             </td>
                                             <td v-if="info.pay === true">
                                                  Уплата
                                                  <span v-if="info.pay === true && info.addText.category === 'pay'">
                                                       <br>{{info.addText.text}}
                                                  </span>
                                             </td>
                                             <td colspan="2" v-if="info.pay === true && info.description">
                                                  <span class="color-blue-light">
                                                       {{info.description.desPay}}
                                                  </span> <br>
                                                  <p>
                                                       {{info.description.desPayFull}}
                                                  </p>
                                             </td>

                                             <td v-if="info.payShow === true">
                                                  Представление и уплата
                                                  <span v-if="info.payShow === true && info.addText.category === 'payShow'">
                                                       <br>{{info.addText.text}}
                                                  </span>
                                             </td>
                                             <td colspan="2" v-if="info.payShow === true && info.description">
                                                  <span class="color-blue-light">
                                                       {{info.description.desPayShow}}
                                                  </span> <br>
                                                  <p>
                                                       {{info.description.desPayShowFull}}
                                                  </p>
                                             </td>
                                        </tr>
                    
                                        <tr v-if="sortedDates == 0 && everyDayArr == 0">
                                             <td colspan="4" class="text-center fs-24">
                                                  <strong>Информация отсутствует</strong>
                                             </td>
                                        </tr>
                                   </tbody>
                              </table>

                              <table class="table mt-2">
                                   <tbody>
                                        <tr>
                                             <td>
                                                  Дата, день недели
                                                  (не позднее)
                                             </td>
                                             <td>
                                                  Уплата и (или) представление декларации или отчета
                                             </td>
                                             <td colspan="2">
                                                  Вид налога, сбора и неналогового платежа, по которым производятся уплата и представление
                                                  декларации, наименование прочих
                                                  отчетов
                                             </td>
                                        </tr>
                                        <tr>
                                             <td>
                                                  Ежедневно
                                             </td>
                                             <td>
                                                  Уплата
                                                  (за исключением нерезидентов)
                                             </td>
                                             <td colspan="2">
                                                  Налог на доходы иностранных организаций, не осуществляющих деятельность в Республике Беларусь через постоянное
                                                  представительство
                                                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque dolores deleniti iste suscipit cupiditate earum, atque
                                                  odit doloremque sit voluptatibus in saepe perferendis neque dignissimos quae ut nam iusto. Odio.
                                             </td>
                                        </tr>
                                   </tbody>
                              </table>
                              <div class="my-5"></div>
                              @@include('../main-components/_pay-wall.html')
                         </div>
                         <!-- <div class="row mt-5">
                                                       <div class="col-xxl-6">
                                                            <strong class="ff-pt-serif fs-24">События в
                                                                 <span v-if="monthTitle">{{monthTitle}}</span> <span v-if="yearTitle">{{yearTitle}}</span> года</strong>
                                                            <div class="calendar-content ">
                                                                 <strong v-if="everyDayArr.length !== 0" class="ff-pt-serif">Ежедневно</strong>
                                                                 <div class="mt-2"></div>
                                                                 <div class="my-2" v-for="info in everyDayArr">
                                                                      <div v-if="info.weekend !== true">
                                                                           <a class="d-flex calendar-info-block row row-container" href="" target="_blank">
                                                                                <div class="col-md-5" v-if="info.show === true">
                                                                                     <div class="calendar-dot calendar-dot-sm calendar-dot-show me-1"></div>
                                                                                     Представление
                                                                                     <span v-if="info.show === true && info.addText.category === 'show'">
                                                                                          {{info.addText.text}}
                                                                                     </span>
                                                                                </div>
                                                                                <div class="col-md-6" v-if="info.description">
                                                                                     {{info.description.desShow}}
                                                                                </div>
                                                                                <div class="col-md-1" v-if="info.description.desShow">
                                                                                     <i class="bi bi-arrow-right"></i>
                                                                                </div>
                                                                           </a>
                                                                           <a class="d-flex calendar-info-block row row-container" href="" target="_blank">
                                                                                <div class="col-md-5" v-if="info.pay === true">
                                                                                     <div class="calendar-dot calendar-dot-sm calendar-dot-pay me-1"></div>
                                                                                     Уплата
                                                                                     <span v-if="info.pay === true && info.addText.category === 'pay'">
                                                                                          &nbsp;{{info.addText.text}}
                                                                                     </span>
                                                                                </div>
                                                                                <div class="col-md-6" v-if="info.description">
                                                                                     {{info.description.desPay}}
                                                                                </div>
                                                                                <div class="col-md-1" v-if="info.description.desPay">
                                                                                     <i class="bi bi-arrow-right"></i>
                                                                                </div>
                                                                           </a>
                                                                           <hr class="d-block mt-2">
                                                                      </div>
                                                                 </div>
                                                                 <div class="my-2" v-for="info in sortedDates">
                                                                      <div v-if="info.weekend !== true">
                                                                           <div class="" :id="'date' + info?.date.split('-').join('')">
                                                                                <strong class="ff-pt-serif">
                                                                                     {{info.date}}
                                                                                </strong>
                                                                           </div>
                                                                           <div class="mt-2"></div>
                                                                           <div class="mt-2">
                                                                                <a class="d-flex calendar-info-block row row-container" href="" target="_blank">
                                                                                     <div class="col-md-5" v-if="info.show === true">
                                                                                          <div class="calendar-dot calendar-dot-sm calendar-dot-show me-1"></div>
                                                                                          Представление
                                                                                          <span v-if="info.show === true && info.addText.category === 'show'">
                                                                                               &nbsp;{{info.addText.text}}
                                                                                          </span>
                                                                                     </div>
                                                                                     <div class="col-md-6" v-if="info.description">
                                                                                          {{info.description.desShow}}
                                                                                     </div>
                                                                                     <div class="col-md-1" v-if="info.description.desShow">
                                                                                          <i class="bi bi-arrow-right"></i>
                                                                                     </div>
                                                                                </a>
                                                                                <a class="d-flex calendar-info-block row row-container" href="" target="_blank">
                                                                                     <div class="col-md-5" v-if="info.pay === true">
                                                                                          <div class="calendar-dot calendar-dot-sm calendar-dot-pay me-1"></div>
                                                                                          Уплата
                                                                                          <span v-if="info.pay === true && info.addText.category === 'pay'">
                                                                                               &nbsp;{{info.addText.text}}
                                                                                          </span>
                                                                                     </div>
                                                                                     <div class="col-md-6" v-if="info.description">
                                                                                          {{info.description.desPay}}
                                                                                     </div>
                                                                                     <div class="col-md-1" v-if="info.description.desPay">
                                                                                          <i class="bi bi-arrow-right"></i>
                                                                                     </div>
                                                                                </a>
                                                                           </div>
                                                                           <hr class="d-block mt-2">
                                                                      </div>
                                                                 </div>
                                                            </div>
                                                       </div>
                                                  </div> -->
                         <!-- <div class="" v-for="(value, key) in weekTime">
                                                       {{key}}-{{value}}
                                                  </div> -->
                    </div>
               </div>
               <div class="col-xxl-2 col-xl-3 d-xl-flex d-none">
                    <div class="border-start ps-3">
                         <div class="">
                              <a href="#" target="_blank" rel="noopener noreferrer">
                                   <img src="./img/new-main/side-bar-offer.png" alt="" class="w-100">
                              </a>
                         </div>
                    </div>
               </div>
          </div>

          <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
          <script src="https://unpkg.com/vue@2"></script>
          <script src="https://unpkg.com/@popperjs/core@2"></script>
          <script src="https://unpkg.com/v-calendar"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment-with-locales.min.js" integrity="sha512-4F1cxYdMiAW98oomSLaygEwmCnIP38pb4Kx70yQYqRwLVCs3DbRumfBq82T08g/4LJ/smbFGFpmeFlQgoDccgg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
          <script >
          Vue.component('v-calendar', window.VCalendar)
          new Vue({
               el: '#vueCalendar',
               // props: {
               //      name: String
               // },
               components: {
               },
               data() {
                    return{
                         isOn: 'false',
                         // placeholder data
                         dates: [

                              {
                                   date: '2024-02-05',
                                   pay: false,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '(за исключением нерезидентов)',
                                        category: 'pay'
                                   },
                                   everyDay: false,
                                   description: {
                                        // desPay: 'Налог на доходы иностранных организаций, не осуществляющих деятельность в Республике Беларусь через постоянное представительство',
                                        desShow: '',
                                        desPayShow: 'Утилизационный сбор',
                                        // desPayFull: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias corrupti quam dicta saepe adipisci mollitia nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!',
                                        desPayShowFull: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Alias corrupti quam dicta saepe adipisci mollitia nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-01-29',
                                   pay: false,
                                   show: true,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '(за исключением нерезидентов)',
                                        category: 'pay'
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: '',
                                        desShow: 'Утилизационный сбор',
                                        desPayShow: 'На доходы налог иностранных организаций, не осуществляющих деятельность в Республике Беларусь через постоянное представительство',
                                        desShowFull: 'Alias corrupti quam dicta saepe adipisci mollitia nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!',
                                        desPayShowFull: 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-15',
                                   pay: true,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Оффшорный сбор',
                                        desShow: '',
                                        desPayShow: 'Текст описания',
                                        desPayFull: 'nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!',
                                        desPayShowFull: 'adipisicing elit. praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-15',
                                   pay: true,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Оффшорный сбор 1',
                                        desShow: '',
                                        desPayShow: 'Текст описания 1',
                                        desPayFull: 'nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo! 1',
                                        desPayShowFull: 'adipisicing elit. praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo! '
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-23',
                                   pay: true,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Оффшорный сбор',
                                        desShow: '',
                                        desPayShow: 'Текст описания',
                                        desPayFull: 'nulla praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!',
                                        desPayShowFull: 'adipisicing elit. praesentium eaque quisquam possimus accusamus placeat quia, animi, optio sint quidem corporis tempore quo!'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-09',
                                   pay: false,
                                   show: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: '',
                                        desShow: 'Текст',
                                        desShowFull: 'Alias corrupti quam dicta saepe adipisci mollitia nulla praesentium eaque quisquam possimus accusamus tempore quo!'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-12',
                                   pay: true,
                                   show: false,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Утилизационный сбор',
                                        desShow: ''
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-01-25',
                                   pay: true,
                                   show: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: ''
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Утилизационный сбор',
                                        desShow: 'Текст',
                                        desPayFull: 'Описание',
                                        desShowFull: 'Описание'
                                   },
                                   dateCategory: 'calendarOrg'
                              },
                              {
                                   date: '2024-02-06',
                                   pay: true,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '(за исключением нерезидентов)',
                                        category: 'pay',
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Налог на прибыль',
                                        desShow: '',
                                        desPayShow: 'Текст описания'
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-01-05',
                                   pay: false,
                                   show: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: true,
                                   description: {
                                        desPay: '',
                                        desShow: 'Оффшорный сбор',
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-02-09',
                                   pay: true,
                                   show: false,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: 'Акцизный сбор',
                                        desShow: '',
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-01-12',
                                   pay: false,
                                   show: true,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: '',
                                        desShow: 'Акцизный сбор',
                                        desPayShow: 'Текст описания'
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-02-20',
                                   pay: true,
                                   show: false,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: true,
                                   description: {
                                        desPay: 'Утилизационный сбор',
                                        desShow: '',
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-01-25',
                                   pay: false,
                                   show: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: true,
                                   description: {
                                        desPay: '',
                                        desShow: 'Налог на добавленную стоимость',
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-02-30',
                                   pay: false,
                                   show: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: true,
                                   description: {
                                        desPay: '',
                                        desShow: 'Утилизационный сбор',
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-01-05',
                                   pay: false,
                                   show: true,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: false,
                                   description: {
                                        desPay: '',
                                        desShow: 'Акцизный сбор',
                                        desPayShow: 'Текст описания'
                                   },
                                   dateCategory: 'calendarIP',
                              },
                              {
                                   date: '2024-02-9',
                                   pay: true,
                                   show: false,
                                   payShow: true,
                                   weekend: false,
                                   addText: {
                                        text: '',
                                        category: '',
                                   },
                                   everyDay: true,
                                   description: {
                                        desPay: 'Оффшорный сбор',
                                        desShow: '',
                                        desPayShow: 'Текст описания'
                                   },
                                   dateCategory: 'calendarIP',
                              },
                         ],
                         selectedDate: null,
                         typeMode:'calendarOrg',
                         attributes: [
                              {
                                   dates: { weekdays: [1, 7] },
                                   content: {
                                        style: {
                                             color: '#c47a2c',
                                        }
                                   },
                              },
                         ],
                         minDate: null,
                         maxDate: null,
                         messageFromChild: null,
                         everyDayArr: [],
                         monthArr: [], 
                         sortedDates: [],
                         checkedDates: [],
                         dateToShow: [],
                         weekTime: {
                              sumDays: 0,
                              workFive: 0,
                              workSix: 0,
                              offFive: 0,
                              offSix: 0,
                              timeFiveWeek40: 0,
                              timeFiveWeek35: 0,
                              timeSixWeek40: 0,
                              timeSixWeek35: 0,
                              todayDate: {
                                   dateNumber: '',
                                   dayOfWeek: '',
                              },
                         },
                         monthTitle: '',
                         currentMonth: 0,
                         yearTitle: '',
                         disabledDates : [], 
                         mode: null,
                         selectedMonth: '',
                         tableDates: [],
                         previousHighlightedElements: null,
                         disDateArr: [],
                         allOff: [],
                         selectedDisDates: [],
                         transDates: ['2024-02-17'],
                         transferDatesArr: [
                              {
                                   from: '04-26-2025',
                                   to: '04-28-2025'
                              },
                         ],
                         innerdisabledDates: [],
                         innerdisabledDatesWithTitle: [
                              {
                                   date: '04-29-2025',
                                   title: 'Радуница'
                              },
                              {
                                   date: '03-08-2025',
                                   title: 'Женский день'
                              },
                         ],
                         currentDate: new Date(),
                         transferDatesFilteredByCurrentMonth: []

                    }
               },
               computed: {
                    computedWeekTime(){
                         const weekTime = {}
                         // this.weekTime = {
                         //      sumDays: 31,
                         // }
                         return weekTime
                    },
                    setToday() {
                         let timeObj = { dayOfWeek: '', dateNumber: '' }
                         const days = [
                              'воскресенье',
                              'понедельник',
                              'вторник',
                              'среда',
                              'четверг',
                              'пятница',
                              'суббота'
                         ];
                         let day = new Date()
                         let textDay = day.getDay()
                         let numberDay = day.toLocaleDateString('en-GB').split('/')
                         try {
                              timeObj.dayOfWeek = days[textDay]
                              timeObj.dateNumber = numberDay[0] + '.' + numberDay[1]
                         } catch (error) {
                              console.log('setToday error', error)
                         }
                         return timeObj
                         // + ' ' + day.toLocaleString('default', {month: 'long'}) if need text month
                    },
                    innerdisabledDatesInFormat() {
                         return this.innerdisabledDates.map(el => {
                              return moment(el).format()
                         })
                    },
               },
               watch: {
                    // watchChange(typeMode){
                    //      this.changeType()
                    // }
                    typeMode(newVal) {
                         this.attributes = [
                              {
                                   dates: { weekdays: [1, 7] },
                                   content: {
                                        style: {
                                             color: '#c47a2c',
                                        }
                                   },
                              },
                         ]
                         this.dateToShow = this.checkedDates.filter(el => {
                              let months = new Date(el.date).getMonth() + 1
                              return el.dateCategory === newVal && months == this.currentMonth
                         });
                         this.setAttributes()
                         this.changeType()
                         this.changeUrlTab(newVal)
                         
                         this.highlightDay(null)
                         this.previousHighlightedElements = null
                    },
                    currentMonth(newVal){
                         this.setAttributes()
                         this.calcTime()
                         this.markWeekend()

                         this.highlightDay(null)
                         this.previousHighlightedElements = null
                    },
               },
               methods: {
                    updateMessage(message) {
                         this.messageFromChild = message
                    },
                    disableDate() {
                         // this.isOn= 'true'
                         let disDateArr = []
                         // , '02/05/2024'
                         let arrOfDate = ['01/01/2024', '01/02/2024', '01/07/2024']
                         try {
                              arrOfDate.forEach(el => {
                                   disDateArr.push(new Date(el))
                              });
                         } catch (error) {
                              console.log('error in disable dates', error)
                         }
                         this.disDateArr = disDateArr
                         disDateArr = [{ weekdays: [1, 7] }, ...disDateArr]
                         this.disabledDates = disDateArr
                    },
                    calcMinDate(){
                         let lastDay =  new Date(new Date().getFullYear(), new Date().getMonth() - 1, 1)
                         this.minDate = lastDay
                    },
                    calcMaxDate(){
                         let firstDay =  new Date(new Date().getFullYear(), new Date().getMonth() + 2, 0)
                         this.maxDate = firstDay
                    },
                    onDayClick(day) {
                         // day.date if need date in selected
                         this.selectedDate = day.date
                         let blockId = '#date' + '-' + day.id
                         let elToScroll = document.querySelector(blockId)
                         var is_safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                         if(elToScroll && !is_safari){
                              elToScroll.scrollIntoView({
                                   behavior : 'smooth',
                                   block : 'center',
                              })
                         }
                         if(elToScroll && is_safari){
                              elToScroll.scrollIntoView(false)
                         }
                         this.highlightDay(blockId)
                         this.changeUrlDay(day)
                         this.previousHighlightedElements = blockId
                    },
                    highlightDay(blockId){
                         let currentHighlightedElements = document.querySelectorAll(blockId)

                         let previousHighlightedElements = document.querySelectorAll(this.previousHighlightedElements)

                         if (this.previousHighlightedElements && blockId !== this.previousHighlightedElements) {
                              previousHighlightedElements.forEach(el => {
                                   el.style.backgroundColor = 'transparent';
                              })
                         }
                         currentHighlightedElements.forEach(el => {
                              el.style.backgroundColor = 'rgba(249, 185, 116, .3)'
                         });
                         
                         this.previousHighlightedElements = blockId
                    },
                    checkDate(){
                         this.dates.filter(el=>{
                              let dateObj = new Date(el.date) 
                              if(dateObj instanceof Date && !isNaN(dateObj)){
                                   this.checkedDates.push(el)
                              }
                         })
                    },
                    checkValidDateRule(date) {
                         return date instanceof Date && !isNaN(date)
                    },
                    setAttributes() {
                         this.filterDays()
                         this.attributes = [
                              {
                                   dates: { weekdays: [1, 7] },
                                   content: {
                                        style: {
                                             color: '#c47a2c',
                                        }
                                   },
                              },
                         ]
                         this.dateToShow.forEach(el => {
                              try {
                                   var splitedRule = el.date.split('-')
                                   var formattedDate = new Date(splitedRule[0], new Number(splitedRule[1]) - 1, splitedRule[2])

                                   if (this.checkValidDateRule(formattedDate) && !el.everyDay) {
                                        let existingItem = this.attributes.find(item => item.dates.getTime() === formattedDate.getTime() && item.dot.style.backgroundColor === '#C47A2C');
                                        if (!existingItem && el.show === true) {
                                             this.attributes.push({
                                                  dates: formattedDate,
                                                  dot: {
                                                  style: {
                                                       backgroundColor: '#C47A2C'
                                                  }
                                                  },
                                                  popover: {
                                                  visibility: 'hover',
                                                  // hideIndicator: true,
                                                  label: el.addText.category === 'show' ? 'Представление' + ' ' + el.addText.text : 'Представление',
                                                  },
                                             })
                                        }
                                        
                                        existingItem = this.attributes.find(item => item.dates.getTime() === formattedDate.getTime() && item.dot.style.backgroundColor === '#034A66');
                                        if (!existingItem && el.pay === true) {
                                             this.attributes.push({
                                                  dates: formattedDate,
                                                  dot: {
                                                  style: {
                                                       backgroundColor: '#034A66'
                                                  }
                                                  },
                                                  popover: {
                                                  visibility: 'hover',
                                                  // hideIndicator: true,
                                                  label: el.addText.category === 'pay' ? 'Уплата' + ' ' + el.addText.text : 'Уплата',
                                                  },
                                             })
                                        }
                                        
                                        existingItem = this.attributes.find(item => item.dates.getTime() === formattedDate.getTime() && item.dot.style.backgroundColor === '#D24344');
                                        if (!existingItem && el.payShow === true) {
                                             this.attributes.push({
                                                  dates: formattedDate,
                                                  dot: {
                                                  style: {
                                                       backgroundColor: '#D24344'
                                                  }
                                                  },
                                                  popover: {
                                                  visibility: 'hover',
                                                  label: 'Представление и уплата',
                                                  },
                                             })
                                        }
                                   }
                              } catch (err) {
                                   console.log('Error in date format', err)
                              }
                         })
                         
                         this.setTransAttr()
                    },
                    setTransAttr() {
                         const currentPage = this.$refs.calendar.pages[0]
                         let transDatesToShow = []
                         transDatesToShow = this.transDates.filter(el => new Date(el).getMonth() + 1 === currentPage.month)
                         transDatesToShow.forEach(el => {
                              try {
                                   if (this.checkValidDateRule(new Date(el))) {
                                        this.attributes.push(
                                             {
                                                  content: {
                                                       style: {
                                                            color: '#282828'
                                                       }
                                                  },
                                                  dates: [
                                                       el
                                                  ]
                                             }
                                        )
                                   }
                              } catch (error) {
                                   console.log('Error in trans date to show', error)
                              }
                         })
                    },
                    filterDays(){
                         this.monthArr = []
                         this.everyDayArr = []
                         this.sortedDates = []
                         this.dateToShow.filter(el=>{
                              if(el.everyDay !== true){
                                   this.monthArr.push(el)
                              }
                              else{
                                   this.everyDayArr.push(el)
                              }
                         })
                         this.monthArr.forEach(item => {
                              item.dayOfWeek = this.getRussianDayOfWeek(item.date)
                         });
                         this.sortedDates = this.monthArr.sort((a, b)=>{
                              return Number(new Date(a.date)) - Number(new Date(b.date))
                         })
                         this.tableDates = this.monthArr.reduce((accumulator, currentValue) => {
                              if (currentValue.show === true && currentValue.pay === true) {
                                   const showItem = { ...currentValue, pay: false }
                                   const payItem = { ...currentValue, show: false }
                                   accumulator.push(showItem, payItem)
                              } else if(currentValue.show === true && currentValue.payShow === true) {
                                   const payShowItem = { ...currentValue, show: false }
                                   const showItem = { ...currentValue, payShow: false }
                                   accumulator.push(showItem, payShowItem)
                              } else if (currentValue.pay === true && currentValue.payShow === true) {
                                   const payShowItem = { ...currentValue, pay: false }
                                   const payItem = { ...currentValue, payShow: false }
                                   accumulator.push(payItem, payShowItem)
                              } else {
                                   accumulator.push(currentValue);
                              }
                              return accumulator;
                         }, [])
                         this.tableDates = this.tableDates.sort((a, b) => {
                              return Number(new Date(a.date)) - Number(new Date(b.date));
                         });
                    },
                    getRussianDayOfWeek(date) {
                         const daysOfWeek = ['воскресенье', 'понедельник', 'вторник', 'среда', 'четверг', 'пятница', 'суббота'];
                         return daysOfWeek[new Date(date).getDay()];
                    },
                    changeType(){
                         let underLine = document.querySelector('.tab-underline-accent')
                         underLine.classList.toggle('tab-underline-checked')
                         this.filterDateToShow()
                         // let date = new Date();
                         // let nowDate = date.getDate() + "-" + (date.getMonth() + 1) + "-" + date.getFullYear()
                         // this.changeUrlDay()
                    },
                    filterDateToShow(){
                         this.dateToShow = this.checkedDates.filter(el=>{
                              let months = new Date(el.date).getMonth() + 1
                              return el.dateCategory === this.typeMode && months == this.currentMonth
                         })
                    },
                    formatTitle(val){
                         let localMonth = {
                              month: new Date(val).toLocaleString('ru', {
                                   month: 'long',
                              }),
                              year: new Date(val).toLocaleString('ru', {
                                   year: 'numeric',
                              }) 
                         }
                         let splitedTitle = localMonth.month.split('')
                         let filteredTitle = splitedTitle.filter(el=> el !== 'ь')
                         filteredTitle.push('е')
                         filteredTitle.join('')
                         this.monthTitle = filteredTitle.join('')
                         this.yearTitle = localMonth.year
                         this.selectedMonth = localMonth.month
                    },
                    checkMonth(){
                         const target = this
                         const calendar = target.$refs.calendar
                         let arrow = document.querySelectorAll('.vc-arrow')
                         arrow.forEach(function(el){
                              el.addEventListener('click', function(){
                                   // let firstDay = document.querySelector('.vc-day.day-1')
                                   let newCurrentMonth = calendar.pages[0].month;
                                   target.setNewMonth(newCurrentMonth)
                                   target.filterDateToShow()
                                   target.formatTitle(new Date(calendar.pages[0].year, calendar.pages[0].month - 1, 1).toISOString())
                              })
                         })
                    },
                    setNewMonth(newCurrentMonth){
                         this.currentMonth = newCurrentMonth
                    },
                    calcETCWeekend(){
                         const currentPage = this.$refs.calendar.pages[0]
                         let d = new Date(currentPage.monthComps.year, currentPage.monthComps.month, 0).toLocaleString('default', { month: 'long' });
                         const etcWeekend = this.dates.filter(function(el){
                                   let dayWeedendArr = el.date.split('-')
                                   let dateWeekend = new Date(dayWeedendArr[0], dayWeedendArr[1], 0).toLocaleString('default', { month: 'long' })
                                   return el.weekend === true && d === dateWeekend
                              }).reduce((acc, current) => {
                                   if (!acc.find((item) => item.weekend === current.weekend && item.date === current.date)) {
                                        acc.push(current);
                                   }
                                   return acc;
                         }, [])
                         return etcWeekend
                    },
                    isSunday(date) {
                         if (date.getDay() === 0) {
                              return true;
                         }
                         return false;
                    },
                    isSaturday(date) {
                         if (date.getDay() === 6) {
                              return true;
                         }
                         return false;
                    },
                    isDateInMonth(date, month) {
                         const dateMonth = date.getMonth() + 1;
                         return dateMonth === month;
                    },
                    checkWork(dateString, firstArr, secondArr) {
                         const targetDate = new Date(dateString)
                         const foundInAllOff = firstArr?.some(date => date.getTime() === targetDate.getTime())
                         const foundInDisDateArr = secondArr?.some(date => date.getTime() === targetDate.getTime())

                         if (foundInAllOff && foundInDisDateArr) {
                              return false
                         } else if (foundInAllOff) {
                              return false
                         } else if (foundInDisDateArr) {
                              return false
                         } else {
                              return true
                         }

                    },
                    hasDecember31(startDate, endDate) {
                         const startDateInFormat = moment(startDate, 'MM-DD-YYYY');
                         const endDateDateInFormat = moment(endDate, 'MM-DD-YYYY');
                         const december31 = moment('12-31', 'MM-DD');

                         if (december31.isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]')) {
                              return true;
                         }
                         return false;
                    },
                    calcSumTime(startDateInFormat, endDateDateInFormat) {
                         const disabledDates = this?.innerdisabledDatesInFormat
                         const disabledDatesObj = {
                              countFive: 0,
                              countSix: 0,
                              hourCountBoth: 0,
                              hourCountSix: 0,
                              saturdayDis: 0
                         }

                         const transDatePlainArr = []


                         this.transferDatesFilteredByCurrentMonth.forEach(el => {
                              transDatePlainArr.push(moment(el.from))
                              transDatePlainArr.push(moment(el.to))
                         })

                         disabledDates?.forEach((date, count) => {
                              let dayInFormat = moment(date).format()
                              let previousDay = moment(moment(dayInFormat).clone().subtract(1, 'days')).format()
                              let nextDay = moment(moment(dayInFormat).add(1, 'days')).format()

                              // let momentDate = moment({
                              //                          year: dayInFormat.get('year'),
                              //                          month: dayInFormat.get('month'),
                              //                          day: dayInFormat.get('date') })

                              //weekend for five week without sat and sun
                              if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0 && moment(dayInFormat).get('day') != 6) {
                                   disabledDatesObj.countFive++;
                              }
                              //weekend for six week without sun
                              if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0) {
                                   disabledDatesObj.countSix++
                              }

                              if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') == 6 && transDatePlainArr.includes(dayInFormat) == false) {
                                   disabledDatesObj.saturdayDis++
                              }




                              // if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0 && moment(dayInFormat).get('day') != 6) {
                              //      hourCountBoth++
                              // }

                              // if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0) {
                              //      hourCountSix++
                              // }
                              if (!disabledDates.includes(previousDay)) {
                                   if (
                                        moment(previousDay).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') &&
                                        moment(previousDay).get('day') != 0 &&
                                        moment(previousDay).get('day') != 6) {
                                        disabledDatesObj.hourCountBoth++
                                   } else if (
                                        moment(previousDay).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') &&
                                        moment(previousDay).get('day') == 6) {
                                        disabledDatesObj.hourCountSix++
                                   } else if (
                                        moment(previousDay) == moment(endDateDateInFormat) &&
                                        moment(nextDay).get('day') != 0) {
                                        disabledDatesObj.hourCountBoth++
                                   } else if (
                                        moment(previousDay) == moment(endDateDateInFormat) &&
                                        moment(nextDay).get('day') != 0 &&
                                        moment(nextDay).get('day') == 6) {
                                        disabledDatesObj.hourCountSix++
                                   }
                              }

                              if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0 && this.hasDecember31(startDateInFormat, endDateDateInFormat)) {
                                   disabledDatesObj.hourCountBoth++;
                              }


                              // if (moment(dayInFormat).isBetween(startDateInFormat, endDateDateInFormat, 'day', '[]') && moment(dayInFormat).get('day') != 0) {
                              //      count++;
                              // }


                         });

                         if (transDatePlainArr.length > 0) {
                              disabledDatesObj.hourCountBoth++

                         }

                         return disabledDatesObj
                    },
                    calcTime() {
                         const currentPage = this.$refs.calendar.pages[0]
                         const month = currentPage.monthComps.month
                         const year = this.currentDate.getFullYear()
                         const sat = []
                         const sun = []
                         const allOff = []
                         if (month < 1 || month > 12) {
                              throw new Error("Wrong month");
                         }


                         // let startDate = moment({ year: year, month: month - 1, day: 1 });
                         let startDate = moment({ year: year, month: month - 1, day: 1 });
                         let endDate = moment(startDate).endOf('month');
                         let totalDaysInMonth = moment(startDate).daysInMonth();
                         let startDateInFormat = moment(startDate)
                         let endDateDateInFormat = moment(endDate)

                         let saturdays = 0;
                         let sundays = 0;

                         while (startDate.isSameOrBefore(endDate)) {
                              if (startDate.day() === 6) {
                                   saturdays++;
                              } else if (startDate.day() === 0) {
                                   sundays++;
                              }
                              startDate.add(1, 'day');
                         }

                         let totalWeekends = saturdays + sundays

                         let disabledDatesCount = this.calcSumTime(startDateInFormat, endDateDateInFormat)


                         totalWeekends += disabledDatesCount.countFive

                         let workFive = totalDaysInMonth - totalWeekends

                         let workSix = totalDaysInMonth - sundays - disabledDatesCount.countSix

                         let sundaysWithDis = sundays + disabledDatesCount.countSix

                         let timeFiveWeek40 = (40 / 5) * workFive - disabledDatesCount.hourCountBoth
                         let timeFiveWeek35 = (35 / 5) * workFive - disabledDatesCount.hourCountBoth
                         let timeSixWeek40 =
                              workFive * 7 + saturdays * 5 - disabledDatesCount.hourCountBoth - disabledDatesCount.hourCountSix - disabledDatesCount.saturdayDis * 5

                         let timeSixWeek35 =
                              workFive * 6 + saturdays * 5 - disabledDatesCount.hourCountBoth - disabledDatesCount.hourCountSix - disabledDatesCount.saturdayDis * 5
                         
                         

                         this.weekTime = {
                              totalDays: totalDaysInMonth,
                              saturdays: saturdays,
                              sundays: sundays,
                              totalWeekends: totalWeekends,
                              sundaysWithDis: sundaysWithDis,
                              workFive: workFive,
                              workSix: workSix,
                              timeFiveWeek40: timeFiveWeek40,
                              timeFiveWeek35: timeFiveWeek35,
                              timeSixWeek40: timeSixWeek40,
                              timeSixWeek35: timeSixWeek35,
                              todayDate: { dayOfWeek: '', dateNumber: '' }
                         }
                    },
                    markWeekend(){
                         this.dates.forEach(function(el){
                              if(el.weekend === true){
                                   try{
                                        document.querySelector('.id-' + el.date).classList.add('etc-weekend')
                                   }
                                   catch(err){
                                        // console.log('Error in mark', err)
                                   }
                              }
                         })
                    },
                    validUrlDate(date){
                         const currentDate = new Date()
                         currentDate.setDate(1)

                         let prevMonth;
                         if (currentDate.getMonth() === 0) {
                              prevMonth = new Date(currentDate.getFullYear() - 1, 11, 1)
                         } else {
                              prevMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1)
                         }

                         const nextMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 2, 0)

                         const dateToCheck = new Date(date)

                         if (dateToCheck >= prevMonth && dateToCheck <= nextMonth) {
                              return dateToCheck
                         } else {
                              return new Date()
                         }
                    },
                    async getUrlParam() {
                         const urlParams = new URLSearchParams(window.location.search);

                         try {
                              let modeParam = urlParams.get('mode');
                              if (!modeParam) {
                                   modeParam = 'calendarOrg';
                                   urlParams.set('mode', modeParam);
                              }

                              let dateParam = urlParams.get('date');
                              if (!dateParam) {
                                   const today = new Date();
                                   dateParam = `${today.getFullYear()}-${(today.getMonth() + 1).toString().padStart(2, '0')}-${today.getDate().toString().padStart(2, '0')}`;
                                   urlParams.set('date', dateParam);
                              }

                              window.history.replaceState({}, '', `${window.location.pathname}?${urlParams}`);

                              this.typeMode = modeParam;
                              const target = this;
                              target.moveToDate(target.validUrlDate(dateParam));
                              target.selectedDate = dateParam;

                              setTimeout(() => {
                                   target.scrollToDate(dateParam);
                              }, 100);

                              const typeParam = urlParams.get('type');
                              if (typeParam) {
                                   this.selectedType = typeParam;
                              }
                         } catch (error) {
                              console.log('error in getUrlParam', error);
                         }

                         // console.log('mode', this.typeMode, 'date', this.selectedDate, 'type', this.selectedType);
                    },
                    
                    moveToDate(date){
                         const calendar = this.$refs.calendar
                         calendar.focusDate(date);
                         let newCurrentMonth = calendar.pages[0].month;
                         this.setNewMonth(newCurrentMonth)
                         this.filterDateToShow()
                         this.formatTitle(new Date(calendar.pages[0].year, calendar.pages[0].month - 1, 1).toISOString())

                         // calendar.focusDate(date);

                    },
                    scrollToDate(date){
                         let blockId = '#date' + '-' + date
                         
                         let elToScroll = document.querySelector(blockId)
                         var is_safari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
                         if (elToScroll && !is_safari) {
                              elToScroll.scrollIntoView({
                                   behavior: 'smooth',
                                   block: 'center',
                              })
                         }
                         if (elToScroll && is_safari) {
                              elToScroll.scrollIntoView(false)
                         }
                         this.highlightDay(blockId)
                    },
                    changeUrlDay(day){
                         // history.pushState(null, null, '/new-page.html');

                         const currentUrl = window.location.href

                         const dateParamIndex = currentUrl.indexOf('date=')

                         if (dateParamIndex !== -1) {
                              const dateValueStartIndex = dateParamIndex + 5 

                              const dateValueEndIndex = currentUrl.indexOf('&', dateValueStartIndex) !== -1 
                              ? currentUrl.indexOf('&', dateValueStartIndex) 
                              : currentUrl.length

                              const currentDateValue = currentUrl.substring(dateValueStartIndex, dateValueEndIndex)

                              const newDateValue = day.id; 
                              const newUrl = currentUrl.replace(`date=${currentDateValue}`, `date=${newDateValue}`)

                              // console.log('Старый URL:', currentUrl)
                              // console.log('Новый URL:', newUrl)
                              history.pushState(null, null, newUrl);
                         } else {
                              // console.log('В URL адресе не найден параметр date.')
                         }
                    },
                    changeUrlTab(newVal){
                         const currentUrl = window.location.href
                         const modeParamIndex = currentUrl.indexOf('mode=')

                         if (modeParamIndex !== -1) {

                              const modeValueStartIndex = modeParamIndex + 5


                              const modeValueEndIndex = currentUrl.indexOf('&', modeValueStartIndex) !== -1
                                   ? currentUrl.indexOf('&', modeValueStartIndex)
                                   : currentUrl.length


                              const currentModeValue = currentUrl.substring(modeValueStartIndex, modeValueEndIndex)


                              // const newModeValue = currentModeValue === 'calendarIP' 
                              // ? 'calendarOrg' 
                              // : 'calendarIP'


                              const newUrl = currentUrl.replace(`mode=${currentModeValue}`, `mode=${newVal}`)

                              history.pushState(null, null, newUrl)
                              // console.log('Старый URL:', currentUrl)
                              // console.log('Новый URL:', newUrl)
                         } else {
                              // console.log('В URL адресе не найден параметр mode.')
                         }
                    },
                    processInnerDisabeledDates() {
                         this.innerdisabledDatesWithTitle.forEach((date, count) => {
                              let isoDate = moment(date.date, 'MM-DD-YYYY').toISOString()
                              this.innerdisabledDates.push(isoDate)
                         })
                         this.innerdisabledDatesWithTitle.sort((a, b) => {
                              const dateA = moment(a.date, 'MM-DD-YYYY');
                              const dateB = moment(b.date, 'MM-DD-YYYY');
                              return dateA - dateB;
                         });
                    },
                    innerdisabledDatesCurrentMonth(datesArr, month) {

                         const monthString = month.toString().padStart(2, '0')

                         this.innerdisabledDatesWithTitleFilteredByCurrentMonth = datesArr.filter(item => {
                              const itemMonth = item.date.split('-')[0]
                              return itemMonth === monthString
                         });
                    },
                    mainCalendarUpdate() {
                         const currentMonth = this.$refs.calendar.pages[0].month
                         this.mainCalendarTime = this.calcTime(currentMonth)
                         this.innerdisabledDatesCurrentMonth(this.innerdisabledDatesWithTitle, currentMonth)
                         this.transferDatesFilteredByCurrentMonthProcess(this.transferDatesArr, currentMonth)
                    },
                    transferDatesFilteredByCurrentMonthProcess(datesArr, month) {
                         const monthString = month.toString().padStart(2, '0');

                         this.transferDatesFilteredByCurrentMonth = datesArr.filter(item => {
                              const fromMonth = item.from.split('-')[0];
                              const toMonth = item.to.split('-')[0];
                              return fromMonth === monthString || toMonth === monthString;
                         });
                    },
                    
                    
               },
               mounted() {
                    this.processInnerDisabeledDates()
                    // this.disableDate()
                    // this.checkDate()
                    this.calcMinDate()
                    this.calcMaxDate()
                    this.checkMonth()
                    this.currentMonth = new Date().getMonth() + 1
                    this.changeType()
                    this.setAttributes()
                    this.formatTitle(new Date())
                    this.mainCalendarUpdate(this.$refs.calendar.pages[0].month)
                    // this.calcTime()
                    // this.markWeekend()
                    this.getUrlParam()
               }
          })
          </script>
</div>